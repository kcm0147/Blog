---
title : '[Basics] 쿠키와 세션의 차이점'
date : 2021-05-30 20:22:12
category : 'Basics'
draft : false
description : "쿠키와 세션의 차이점"
tags : ['Basics']
---


평소에 쿠키와 세션에 대해서 대략적인 역할을 알고 있었으나 

실제로 어떠한 역할을 하고 그 두개의 차이점을 명확히 알고 있지 않았습니다.

그래서 이번 기회에 정리를 해보려고 합니다.

<br/>

쿠키와 세션의 필요성을 이해하기 위해서는 HTTP의 특징부터 알아야 합니다.

<br/>

**HTTP**는 **인터넷상에서 데이터를 주고 받기 위해 따르는 통신 규약**을 의미합니다.

HTTP는 비연결성 , 비상태성이라는 특징을 가지고 있어서 서버의 자원을 절약하기 위해서는 

모든 사용자의 요청마다 연결과 해체의 과정을 거치기 때문에 **연결 상태가 유지되 지않고**

**연결 해제 후 상태정보가 저장되지 않습**니다.

<br/>

이러한 HTTP의 비연결성과 비상태성을 보완하여 서버가 **클라이언트**를 식별하게 해주는 것이 **쿠키**와 **세션**입니다.

<br/>

### :cookie: 쿠키 ?

쿠키는 웹 사이트에 접속할 때 **생성되는 정보를 담은 임시 파일**입니다.

서버가 사용자의 웹 브라우저에 저장하는 데이터를 의미하는데 쿠키의 데이터 형태는 

Key와 Value로 구성되고 String 형태로 이루어져 있습니다.

쿠키파일은 웹브라우저에 저장이 되며, 서버는 이 정보를 함께 받아서 서버가 

사용자가 식별할 수 있게 해줍니다.


<br/>

### 쿠키 목적

쿠키의 목적으로는 **1. 세션관리 2. 개인화 3. 트래킹**으로 나눌 수 있습니다.

**세션관리**를 통해서 로그인, 사용자 닉네임 등, 서버가 알아야할 정보들을 저장합니다.

**개인화**라는 말은 사용자마다 쿠키의 정보를 확인하여 그 사람에게 적절한 페이지를 보여줄 수 있도록 하며,

**트래킹**을 통해 사용자의 행동과 패턴을 분석하고 기록할 수 있습니다.



<br/>

### 쿠키의 단점 ?

1. 방문했던 웹사이트에 대한 정보 및 개인정보가 기록이 되기 때문에 사생활 침해의 소지가 있습니다. 
   
   그래서 보통은 쿠키를 수집하기 위해서 사용자의 동의를 받아야하는데, **만약 쿠키수집의 거부가 있다면 웹브라우저와의 연결을 지속시키는 작업을 할 수 없을 것**입니다.

<br/>

2. 서버에서 관리하는 것이 아니고 **사용자의 웹브라우저에 저장이 되기 때문에
임의로 쿠키파일을 고치거나 지울 수도 있어서 보안에 취약**합니다.


<br/>

### 세션이란 ?

세션은 웹 브라우저 당 1개씩 생성이되어 웹 컨테이너에 저장이되고 **브라우저 종료시 소멸**이 됩니다.

로그인한 사용자에 대해서만 세션을 생성하는 것이 아니라 **로그아웃을 하면 새로운 사용자로 인식을 하면서 새로운 세션을 생성**합니다.

아이디와 닉네임과 같은 정보를 세션에 담아둔다면 DB에 매번 접근할 필요없이 사용자의 정보를 알 수 있습니다.

즉 웹 서버에 클라이언트에 대한 정보를 저장하고 클라이언트에게는 클라이언트를 구분할 수 있는 세션아이디를 부여합니다.


<br/>


#### 쿠키와 세션의 차이점

|| Cookie| Session|
|--|--|--|
|저장위치|클라이언트|서버|
|저장형식|text|Object|
|용량제한|도메인당 20개,쿠키 4kb|제한없음|
|만료시점|설정이없다면 브라우저 종료시 만료|알수없음|

1. 쿠키는 **저장위치가 클라이언트의 웹브라우저에 저장**을 한다면 **세션의 경우 서버의 메모리에 저장**이됩니다.
   
<br/>

2. 쿠키는 text형식으로 저장이 된다면, 세션은 Object형식으로 저장이 됩니다.
   
<br/>
   
3. 리소스는 쿠키는 클라이언트에 저장이되고 클라이언트 메모리를 사용하기 때문에 서버 자원을 사용하지 않습니다.

<br/>

4. 쿠키의 경우 클라이언트의 동의없이 사이트에 의해 생성이 될 수 있기 때문에 문제가 되는 것을 막고자 도메인당 20개로 제한되어있습니다.
반면에 세션의 경우에는 서버에 저장하는 형식으로 갯수아 용량에 제한이 없습니다.

<br/>

5. 쿠키는 따로 지정하지 않는다면 브라우저의 종료시에 만료가 되어 삭제가 될 수도있고 지속쿠키로서 파일로 저장하여 남길 수도 있습니다.
반면에 세션의 경우 클라이언트가 로그인이 되거나, 일정시간동안 반응이없으면 사라지는 등 정확한 시점을 확실히 알 수 없습니다. 

<br/>

#### 쿠키와 세션의 비교요약

즉 위에서 언급했듯이 쿠키는 클라이언트의 웹브라우저에 저장이 되기 때문에 민감한 정보는 저장이 되어서는 안됩니다. 

자동완성, 팝업 일주일간 보지않기 등 지워져도 되거나 조작되어도 되는 수준의 정보들을 저장하는데에 사용을 합니다.

반면에 세션은 서버에서 저장을 하고 관리하기 떄문에 다른 누군가에게 노출되면 안되는 정보들을 세션으로 서버안에서 다룹니다.


- - -
[참조URL](https://devuna.tistory.com/23)